<ion-content>
  <ion-grid>
    <ion-row>

        <ion-card class="ion-text-center">
          <ion-card-header>

            <ion-card-subtitle class="kronos">
                {{profile.user.timeOfExpiry}}
            </ion-card-subtitle>

            <ng-container>
              <ion-avatar>
                <img alt="Avatar" src="{{ profile.user.profilePicturePath }}" />
              </ion-avatar>
            </ng-container>

            <ion-card-subtitle class="username">
              {{ profile.user.username }}
            </ion-card-subtitle>

          </ion-card-header>

          <ion-card-content>
            <ion-grid class="stats">
              <ion-row class="statsNumber">
                <ion-col>{{getNumFollowing()}}</ion-col>
                <ion-col>{{getNumPosts()}}</ion-col>
                <ion-col>{{getNumFollowers()}}</ion-col>
              </ion-row>

              <ion-row class="statsLabel">
                <ion-col>Following</ion-col>
                <ion-col>Posts</ion-col>
                <ion-col>Followers</ion-col>
              </ion-row>
            </ion-grid>

            <ion-row class="ion-justify-content-center">
      
              <ng-template  [ngIf]="Status === 0">
                <ion-button class="connectButton">
                  <ion-icon name="person-outline"></ion-icon></ion-button>
              </ng-template>

              <ng-template #notFollowed [ngIf]="Status === 1">
                <ion-button (click)="followUser()" class="connectButton">
                  <ion-icon name="person-add-outline"></ion-icon></ion-button>
              </ng-template>

              <ng-template #Requested [ngIf]="Status === 2">
                <ion-button class="connectButton">
                  Requested
                </ion-button>
              </ng-template>

              <div class="rowSpacing"></div>

              <ion-button (click)="goToMessages()" class="connectButton">
                <ion-icon name="chatbox-ellipses-outline"></ion-icon></ion-button>

            </ion-row>

            <ion-card-subtitle class="bio">
              {{profile.user.bio}}
            </ion-card-subtitle>

            <ng-container>
              <ng-template  [ngIf]="(getNumPosts() !== 0)" [ngIfElse]="noPosts">
                <ion-card class="photos">
                  <ion-card-content class="ion-text-center">
                    <!-- <ion-content [fullscreen]="true" [scrollEvents]="true"> -->
                        <ion-grid [fixed]="true">
                          <ion-row class="ion-justify-content-center" *ngFor="let i of profile.posts">
                              <ion-col class="ion-col">
                                <ion-img src="{{ i.content }}" (click)="openBlip(i,profile.user.username)" alt=""></ion-img>
                              </ion-col>
                          </ion-row>
                        </ion-grid>
                    <!-- </ion-content> -->
                  </ion-card-content>
                </ion-card>
              </ng-template>

              <ng-template #noPosts>
                <p>No posts found.</p>
              </ng-template>
            </ng-container>
        
          </ion-card-content>
        </ion-card>

    </ion-row>
  </ion-grid>